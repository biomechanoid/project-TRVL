{% extends sonata_block.templates.block_base %}

{% set images_in_row = galleries | length %}
{% if images_in_row < 3 %}
    {% set bootstrap_width_class = "col-xs-12 col-md-6" %}
{% elseif images_in_row < 7 %}
    {% set bootstrap_width_class = "col-xs-6 col-md-4" %}
{% else %}
    {% set bootstrap_width_class = "col-xs-6 col-md-3" %}
{% endif %}

{% block block %}
    {% for gallery in galleries %}
      <div class="{{ bootstrap_width_class }}">
        <a href={{ path('dj_main_gallery', {'category': gallery.name | lower }) }} class="thumbnail">
          <img class="img-responsive" src={{ asset('img/gallery/cover/gallery_index_' ~ gallery.name | lower ~ '.jpg') }} alt={{ gallery.name }}>
          <p class="text-uppercase text-center overlay-text">{% if gallery.name %}{{ gallery.name }} {% endif %}</p>
        </a>
      </div>
    {% endfor %}
{% endblock %}
